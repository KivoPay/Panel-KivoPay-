<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Developer Website Keii Official | IQC Generator</title>

  <!-- html2canvas for reliable PNG export -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <style>
    :root{
      --bg:#070a12;
      --glass:rgba(255,255,255,.07);
      --stroke:rgba(255,255,255,.12);
      --text:#eaf0ff;
      --muted:#a9b6da;
      --accent:#77a6ff;
      --good:#2cffb5;
      --danger:#ff6b6b;

      --cardRadius:22px;
      --shadow: 0 18px 60px rgba(0,0,0,.55);

      /* phone */
      --phoneW: 380px;
      --phoneH: 820px;
      --phoneR: 44px;

      /* iOS look */
      --menu: rgba(24, 26, 32, .86);
      --menuStroke: rgba(255,255,255,.14);
      --bubble: rgba(38, 41, 48, .86);
      --bubbleText: #f5f7ff;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1000px 520px at 15% 10%, rgba(119,166,255,.22), transparent 55%),
        radial-gradient(900px 520px at 85% 22%, rgba(44,255,181,.10), transparent 60%),
        linear-gradient(180deg, #050713 0%, #02030a 100%);
      min-height:100vh;
    }

    .wrap{
      max-width: 1160px;
      margin: 18px auto 28px;
      padding: 14px;
      display:grid;
      gap: 16px;
      grid-template-columns: 380px 1fr;
    }

    .topbar{
      grid-column: 1 / -1;
      border-radius: 26px;
      padding: 16px 16px;
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border: 1px solid var(--stroke);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 14px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 12px;
      min-width: 0;
    }
    .logo{
      width: 40px; height: 40px;
      border-radius: 12px;
      background:
        radial-gradient(18px 18px at 30% 30%, rgba(255,255,255,.35), transparent 60%),
        linear-gradient(135deg, rgba(119,166,255,.95), rgba(44,255,181,.70));
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.18);
    }
    .title{
      display:flex;
      flex-direction:column;
      gap:2px;
      min-width: 0;
    }
    .title b{
      font-size: 15px;
      letter-spacing: .2px;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }
    .title span{
      font-size: 12px;
      color: rgba(255,255,255,.70);
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }

    .pill{
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.85);
      font-size: 12px;
      white-space: nowrap;
    }

    .card{
      border-radius: var(--cardRadius);
      padding: 14px;
      background: var(--glass);
      border: 1px solid var(--stroke);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
    }

    h2{
      margin: 0 0 10px;
      font-size: 16px;
      letter-spacing: .2px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    h2 .icon{
      width: 28px; height: 28px;
      border-radius: 10px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 14px;
    }

    label{
      display:block;
      margin: 10px 0 6px;
      font-size: 12px;
      color: var(--muted);
    }

    input, select, textarea{
      width:100%;
      padding: 11px 11px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
      color: var(--text);
      outline:none;
    }
    textarea{ min-height: 78px; resize: vertical; }

    .row{ display:flex; gap:10px; }
    .row > *{ flex:1; }

    .chips{
      display:flex;
      flex-wrap:wrap;
      gap: 10px;
      margin-top: 8px;
    }
    .chip{
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.82);
      font-size: 12px;
      cursor:pointer;
      user-select:none;
      transition:.15s ease;
    }
    .chip:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); }

    .btns{ display:flex; gap:10px; margin-top: 12px; }
    button{
      flex:1;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color: var(--text);
      cursor:pointer;
      transition:.15s ease;
      font-weight: 650;
    }
    button:hover{ transform: translateY(-1px); background: rgba(255,255,255,.12); }
    button.primary{
      background: linear-gradient(180deg, rgba(119,166,255,.96), rgba(90,130,255,.86));
      border-color: rgba(119,166,255,.55);
      color:#050a18;
    }
    button.good{
      background: linear-gradient(180deg, rgba(44,255,181,.92), rgba(28,210,150,.80));
      border-color: rgba(44,255,181,.55);
      color:#02110c;
    }
    button.danger{
      background: linear-gradient(180deg, rgba(255,107,107,.94), rgba(220,70,70,.82));
      border-color: rgba(255,107,107,.55);
      color:#1a0707;
    }

    /* Preview */
    .previewArea{
      display:flex;
      justify-content:center;
      align-items:flex-start;
      padding: 10px;
    }
    .phone{
      width: var(--phoneW);
      height: var(--phoneH);
      border-radius: var(--phoneR);
      border: 1px solid rgba(255,255,255,.16);
      background:#0b0f18;
      overflow:hidden;
      position:relative;
      box-shadow:
        0 30px 90px rgba(0,0,0,.62),
        0 0 0 10px rgba(0,0,0,.25);
    }
    .wallpaper{
      position:absolute; inset:0;
      background:
        radial-gradient(900px 700px at 70% 25%, rgba(119,166,255,.30), transparent 55%),
        radial-gradient(800px 650px at 30% 70%, rgba(44,255,181,.16), transparent 60%),
        linear-gradient(180deg, #050710 0%, #02030a 100%);
    }
    .chatBlur{
      position:absolute; inset:0;
      background:
        linear-gradient(180deg, rgba(0,0,0,.12), rgba(0,0,0,.42)),
        radial-gradient(700px 340px at 75% 45%, rgba(0, 255, 204, .07), transparent 60%),
        radial-gradient(700px 340px at 25% 55%, rgba(119, 166, 255, .10), transparent 60%);
      filter: blur(7px);
      opacity: .95;
      transform: scale(1.05);
    }

    .notch{
      position:absolute; top:10px; left:50%;
      transform: translateX(-50%);
      width: 176px; height: 32px;
      border-radius: 0 0 18px 18px;
      background: rgba(0,0,0,.55);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
      z-index:3;
    }

    .status{
      position:absolute; top: 10px; left: 18px; right: 18px;
      display:flex; justify-content:space-between; align-items:center;
      font-size: 12px;
      color: rgba(255,255,255,.92);
      text-shadow: 0 1px 2px rgba(0,0,0,.35);
      z-index: 4;
      user-select:none;
    }
    .status .left, .status .right{ display:flex; align-items:center; gap:8px; }
    .carrier{ font-weight:800; font-size: 11px; opacity:.92; }

    .signal{
      display:flex; gap:2px; align-items:flex-end;
      height: 10px;
    }
    .signal span{
      width:2px; border-radius:2px;
      background: rgba(255,255,255,.92);
    }
    .signal span:nth-child(1){ height:3px; opacity:.55; }
    .signal span:nth-child(2){ height:5px; opacity:.65; }
    .signal span:nth-child(3){ height:7px; opacity:.78; }
    .signal span:nth-child(4){ height:9px; opacity:.92; }

    .battery{
      width:22px; height:10px;
      border-radius:3px;
      border:1px solid rgba(255,255,255,.75);
      position:relative;
    }
    .battery::after{
      content:"";
      position:absolute;
      right:-3px; top:3px;
      width:2px; height:4px;
      border-radius:1px;
      background: rgba(255,255,255,.75);
    }
    .battery .fill{
      height:100%;
      width:50%;
      border-radius:2px;
      background: rgba(255,255,255,.92);
    }

    .stage{
      position:absolute; inset:0;
      z-index:5;
      display:flex;
      justify-content:center;
      align-items:flex-end;
      padding: 112px 18px 118px;
      user-select:none;
    }
    .bubbleWrap{
      width:100%;
      display:flex;
      flex-direction:column;
      gap: 10px;
      align-items:flex-start;
    }

    .reactions{
      display:inline-flex;
      gap: 12px;
      padding: 10px 16px;
      border-radius: 999px;
      background: rgba(30, 32, 38, .84);
      border: 1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(16px);
      box-shadow: 0 12px 34px rgba(0,0,0,.40);
      max-width: 100%;
    }
    .reactions span{ font-size: 20px; line-height:1; }

    .bubble{
      display:inline-block;
      max-width: 88%;
      padding: 12px 14px;
      border-radius: 18px;
      background: var(--bubble);
      color: var(--bubbleText);
      border: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(16px);
      box-shadow: 0 12px 30px rgba(0,0,0,.32);
      font-size: 16px;
      white-space: pre-wrap;
      word-break: break-word;
    }
    .bubble .time{
      display:block;
      margin-top: 6px;
      font-size: 11px;
      opacity:.55;
      text-align:right;
    }

    .menu{
      width: 320px;
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid var(--menuStroke);
      background: var(--menu);
      backdrop-filter: blur(18px);
      box-shadow: 0 16px 44px rgba(0,0,0,.48);
      margin-top: 14px;
    }
    .menuItem{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 12px 14px;
      border-top: 1px solid rgba(255,255,255,.10);
      font-size: 16px;
    }
    .menuItem:first-child{ border-top:none; }
    .menuItem .icon{
      width: 22px;
      display:flex;
      justify-content:center;
      opacity:.88;
    }
    .menuItem.danger{ color: rgba(255, 110, 110, .95); }

    .homebar{
      position:absolute; bottom: 12px; left:50%;
      transform: translateX(-50%);
      width: 132px; height: 5px;
      border-radius: 999px;
      background: rgba(255,255,255,.35);
      z-index:6;
    }

    /* Loader overlay */
    .loader{
      position:absolute; inset:0;
      display:none;
      z-index:20;
      align-items:center;
      justify-content:center;
      padding: 16px;
      background: rgba(0,0,0,.58);
      backdrop-filter: blur(12px);
    }
    .loader.show{ display:flex; }
    .loaderBox{
      width: 78%;
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(10,12,18,.72);
      box-shadow: 0 20px 70px rgba(0,0,0,.65);
      padding: 16px;
    }
    .loaderTitle{
      font-weight: 850;
      letter-spacing:.2px;
      font-size: 14px;
      margin-bottom: 10px;
    }
    .shimmer{
      height: 14px;
      border-radius: 999px;
      background: linear-gradient(90deg,
        rgba(255,255,255,.08),
        rgba(255,255,255,.20),
        rgba(255,255,255,.08));
      background-size: 200% 100%;
      animation: sh 1.05s linear infinite;
      margin: 10px 0;
    }
    @keyframes sh{ 0%{background-position: 0% 0} 100%{background-position: 200% 0} }
    .progress{
      height: 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      overflow:hidden;
      margin-top: 12px;
    }
    .progress > div{
      height:100%;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(119,166,255,.95), rgba(44,255,181,.80));
      transition: width .18s ease;
    }
    .hint{ margin-top: 8px; font-size: 12px; color: rgba(255,255,255,.75); line-height:1.35; }

    /* How-to section */
    .howto{
      grid-column: 1 / -1;
      line-height: 1.5;
      color: rgba(255,255,255,.82);
      font-size: 13px;
    }
    .howto ol{ margin: 8px 0 0 18px; padding: 0; }
    .howto li{ margin: 6px 0; }
    .note{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      color: rgba(255,255,255,.78);
    }

    @media (max-width: 980px){
      .wrap{ grid-template-columns: 1fr; }
      .previewArea{ justify-content:center; }
      .pill{ display:none; }
    }
  </style>
    </head>
   <body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="title">
          <b>Developer Website Keii Official</b>
          <span>Buat iPhone Quoted Screenshot yang lebih niat (dan gak keliatan murahan)</span>
        </div>
      </div>
      <div class="pill">Generate Preview ‚Ä¢ Download PNG ‚Ä¢ Reset</div>
    </div>

    <div class="card">
      <h2><span class="icon">‚úèÔ∏è</span> Buat IQC Kamu</h2>

      <label>Waktu (Status Bar)</label>
      <select id="timeTop">
        <option>00:00</option><option>01:12</option><option>08:08</option><option>09:41</option>
        <option>10:10</option><option selected>11:26</option><option>12:01</option><option>13:37</option>
        <option>14:20</option><option>16:44</option><option>19:05</option><option>21:00</option>
      </select>

      <label>Pesan</label>
      <textarea id="msg" placeholder="Tulis pesan...">minimal gak ngemis</textarea>

      <label>Nama Provider</label>
      <input id="carrier" value="INDOSAT OOREDOO"/>

      <div class="row">
        <div>
          <label>Baterai (%)</label>
          <input id="battery" type="number" min="1" max="100" value="8"/>
        </div>
        <div>
          <label>Sinyal (1-4)</label>
          <select id="signal">
            <option>1</option><option>2</option><option>3</option><option selected>4</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div>
          <label>Network</label>
          <select id="net">
            <option>LTE</option>
            <option selected>4G</option>
            <option>5G</option>
          </select>
        </div>
        <div>
          <label>Jam Pesan</label>
          <input id="msgTime" value="11:26"/>
        </div>
      </div>

      <label>Reaksi Emoji (pisahkan pakai spasi)</label>
      <input id="react" value="üëç ‚ù§Ô∏è üòÇ üòÆ üò¢ üôè"/>

      <label>Template Kata-kata</label>
      <div class="chips" id="chips">
        <div class="chip">minimal gak ngemis</div>
        <div class="chip">jangan lupa bahagia</div>
        <div class="chip">capek tapi gapapa</div>
        <div class="chip">hidup bukan untuk diratapi</div>
        <div class="chip">pelan-pelan asal jalan</div>
        <div class="chip">gak semua harus diumbar</div>
      </div>

      <div class="btns">
        <button class="primary" id="gen">Generate Preview</button>
        <button class="good" id="download">Download Image</button>
        <button class="danger" id="reset">Reset</button>
      </div>
    </div>

    <div class="card previewArea">
      <div class="phone" id="capture">
        <div class="wallpaper"></div>
        <div class="chatBlur"></div>
        <div class="notch"></div>

        <div class="status">
          <div class="left">
            <div class="signal" id="pSignal" aria-hidden="true">
              <span></span><span></span><span></span><span></span>
            </div>
            <div class="carrier" id="pCarrier">INDOSAT OOREDOO</div>
            <div id="pNet" style="font-weight:800; font-size:11px; opacity:.92;">4G</div>
          </div>
          <div class="right">
            <div id="pTime" style="font-weight:900;">11:26</div>
            <div class="battery" aria-hidden="true"><div class="fill" id="pBatFill" style="width:8%"></div></div>
            <div id="pBat" style="font-weight:900; font-size:11px; opacity:.92;">8%</div>
          </div>
        </div>

        <div class="stage">
          <div class="bubbleWrap">
            <div class="reactions" id="pReact"></div>

            <div class="bubble">
              <div id="pMsg">minimal gak ngemis</div>
              <span class="time" id="pMsgTime">11:26</span>
            </div>

            <div class="menu" id="pMenu"></div>
          </div>
        </div>

        <div class="homebar"></div>

        <!-- Loader -->
        <div class="loader" id="loader">
          <div class="loaderBox">
            <div class="loaderTitle">Generating preview‚Ä¶</div>
            <div class="shimmer"></div>
            <div class="shimmer" style="width:76%"></div>
            <div class="shimmer" style="width:60%"></div>
            <div class="progress"><div id="prog"></div></div>
            <div class="hint" id="hint">Rendering blur, shadow, dan ego manusia‚Ä¶</div>
          </div>
        </div>
      </div>
    </div>

    <div class="card howto">
      <h2><span class="icon">üìå</span> Tata Cara Memakai</h2>
      <ol>
        <li>Isi <b>Waktu</b>, <b>Pesan</b>, <b>Provider</b>, <b>Baterai</b>, dan <b>Sinyal</b>.</li>
        <li>Kalau malas ngetik, klik <b>Template Kata-kata</b> buat auto-isi pesan.</li>
        <li>Pencet <b>Generate Preview</b> biar muncul efek loading dan preview rapih.</li>
        <li>Pencet <b>Download Image</b> buat simpan hasilnya jadi PNG.</li>
        <li>Pencet <b>Reset</b> kalau mau balik ke default (atau kalau hidup lo juga butuh reset).</li>
      </ol>
      <div class="note">
        Tips: Semua input auto disimpan di browser. Jadi kalau kebuka lagi, data lo gak hilang.
      </div>
    </div>
  </div>

  <script>
    const el = (id) => document.getElementById(id);

    const icons = {
      "Beri Bintang":"‚òÜ",
      "Balas":"‚Ü©",
      "Teruskan":"‚Ü™",
      "Salin":"‚ßâ",
      "Ucapkan":"üí¨",
      "Laporkan":"‚ö†",
      "Hapus":"üóë"
    };

    function clamp(n, min, max){
      n = parseInt(n, 10);
      if(Number.isNaN(n)) return min;
      return Math.max(min, Math.min(max, n));
    }

    function normalizeTime(s){
      // Accept "H:M" -> "HH:MM"
      const m = String(s || "").trim().match(/^(\d{1,2}):(\d{1,2})$/);
      if(!m) return s || "11:26";
      let hh = clamp(m[1], 0, 23);
      let mm = clamp(m[2], 0, 59);
      return String(hh).padStart(2,"0") + ":" + String(mm).padStart(2,"0");
    }

    function buildMenu(){
      const menu = el("pMenu");
      menu.innerHTML = "";
      const items = [
        {text:"Beri Bintang"},
        {text:"Balas"},
        {text:"Teruskan"},
        {text:"Salin"},
        {text:"Ucapkan"},
        {text:"Laporkan"},
        {text:"Hapus", danger:true}
      ];
      items.forEach(it=>{
        const row = document.createElement("div");
        row.className = "menuItem" + (it.danger ? " danger" : "");
        const left = document.createElement("div");
        left.textContent = it.text;
        const right = document.createElement("div");
        right.className = "icon";
        right.textContent = icons[it.text] || "‚Ä∫";
        row.appendChild(left);
        row.appendChild(right);
        menu.appendChild(row);
      });
    }

    function setSignalBars(level){
      const bars = el("pSignal").querySelectorAll("span");
      bars.forEach((b, idx) => {
        const on = (idx + 1) <= level;
        b.style.opacity = on ? "0.92" : "0.35";
      });
    }

    function setReactions(str){
      const wrap = el("pReact");
      wrap.innerHTML = "";
      const reacts = (str || "").split(" ").map(s=>s.trim()).filter(Boolean);
      const list = reacts.length ? reacts : ["üëç","‚ù§Ô∏è","üòÇ","üòÆ","üò¢","üôè"];
      list.forEach(r=>{
        const sp = document.createElement("span");
        sp.textContent = r;
        wrap.appendChild(sp);
      });
    }

    function saveState(){
      const state = {
        timeTop: el("timeTop").value,
        msg: el("msg").value,
        carrier: el("carrier").value,
        battery: el("battery").value,
        signal: el("signal").value,
        net: el("net").value,
        msgTime: el("msgTime").value,
        react: el("react").value,
      };
      localStorage.setItem("keii_iqc_state", JSON.stringify(state));
    }

    function loadState(){
      try{
        const raw = localStorage.getItem("keii_iqc_state");
        if(!raw) return;
        const s = JSON.parse(raw);
        if(s.timeTop) el("timeTop").value = s.timeTop;
        if(typeof s.msg === "string") el("msg").value = s.msg;
        if(typeof s.carrier === "string") el("carrier").value = s.carrier;
        if(s.battery) el("battery").value = s.battery;
        if(s.signal) el("signal").value = s.signal;
        if(s.net) el("net").value = s.net;
        if(s.msgTime) el("msgTime").value = s.msgTime;
        if(typeof s.react === "string") el("react").value = s.react;
      }catch(_){}
    }

    function setPreview(){
      const topTime = normalizeTime(el("timeTop").value);
      const msgTime = normalizeTime(el("msgTime").value);

      const battery = clamp(el("battery").value, 1, 100);
      el("battery").value = battery;

      const signal = clamp(el("signal").value, 1, 4);

      el("pTime").textContent = topTime;
      el("pCarrier").textContent = el("carrier").value || "Carrier";
      el("pNet").textContent = el("net").value || "4G";

      el("pBat").textContent = battery + "%";
      el("pBatFill").style.width = battery + "%";
      setSignalBars(signal);

      el("pMsg").textContent = el("msg").value || "";
      el("pMsgTime").textContent = msgTime;

      setReactions(el("react").value);
      saveState();
    }

    async function introGenerate(){
      const loader = el("loader");
      const prog = el("prog");
      const hint = el("hint");
      const hints = [
        "Rendering blur, shadow, dan ego manusia‚Ä¶",
        "Mengatur spacing biar keliatan mahal‚Ä¶",
        "Mengunci vibe iPhone biar gak malu-maluin‚Ä¶",
        "Finalize‚Ä¶"
      ];

      loader.classList.add("show");
      prog.style.width = "0%";
      let p = 0;

      for(let i=0;i<hints.length;i++){
        hint.textContent = hints[i];
        await new Promise(r=>setTimeout(r, 250));
        p += 22;
        prog.style.width = p + "%";
      }

      setPreview();

      await new Promise(r=>setTimeout(r, 220));
      prog.style.width = "100%";
      await new Promise(r=>setTimeout(r, 180));
      loader.classList.remove("show");
    }

    async function downloadPNG(){
      // Ensure loader hidden
      el("loader").classList.remove("show");

      const node = el("capture");
      // higher scale for sharper png
      const canvas = await html2canvas(node, {
        backgroundColor: null,
        scale: 2,
        useCORS: true
      });

      const a = document.createElement("a");
      a.download = "keii-iqc.png";
      a.href = canvas.toDataURL("image/png");
      a.click();
    }

    function resetAll(){
      localStorage.removeItem("keii_iqc_state");
      el("timeTop").value = "11:26";
      el("msg").value = "minimal gak ngemis";
      el("carrier").value = "INDOSAT OOREDOO";
      el("battery").value = "8";
      el("signal").value = "4";
      el("net").value = "4G";
      el("msgTime").value = "11:26";
      el("react").value = "üëç ‚ù§Ô∏è üòÇ üòÆ üò¢ üôè";
      setPreview();
    }
     // Chips -> message
    el("chips").addEventListener("click", (e)=>{
      const chip = e.target.closest(".chip");
      if(!chip) return;
      el("msg").value = chip.textContent.trim();
      setPreview();
    });

    // Events
    ["timeTop","msg","carrier","battery","signal","net","msgTime","react"].forEach(id=>{
      el(id).addEventListener("input", setPreview);
      el(id).addEventListener("change", setPreview);
    });

    el("gen").addEventListener("click", introGenerate);
    el("download").addEventListener("click", downloadPNG);
    el("reset").addEventListener("click", resetAll);

    // init
    buildMenu();
    loadState();
    setPreview();
  </script>
</body>
</html>   
